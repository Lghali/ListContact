<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>List de contact</title>
	<style>
		.error {color: red}
		.ui-datatable .ui-datatable-header {
        	text-align: right !important;
    	}
     
    	.ui-button-text-only .ui-button-text {
        	padding: 0.3em 0.4em;
    	}
     
    	.ui-selectcheckboxmenu-panel .ui-selectcheckboxmenu-header .ui-chkbox {
        	visibility: hidden;
    	}
     
    	.ui-filter-column .ui-column-customfilter .custom-filter {
        	width: 100%;
        	box-sizing: border-box;
    	}
     
    	.year-spinner input {
        	width: 100%;
        	box-sizing: border-box;
    	}
</style>
 
</h:head>

<h:body>
<h:form>
	<p:panel header="Ajouter un contact">
		<h:panelGrid columns="3" cellpadding="6">
			<h:outputText value="Nom : " />
			<p:inputText id="form_nom" label="Nom" value="#{contact.nom}"
						 required="true"
						 requiredMessage="Vous devez entrer un nom." /> 
			<h:message for="form_nom" styleClass="error"/>
			<h:outputText value="Tel: " />
			<p:inputText id="form_tel" label="Tel" value="#{contact.tel}" 
						 required="true"
						 requiredMessage="Vous devez entrer un num de tel." /> 
			<h:message for="form_tel" styleClass="error"/>
			<p:commandButton value="Submit" action="#{contact.ajouterContact()}" ajax="true"
               				 update="contactTable"/>
			<p:commandButton value="Reset" type="reset"/>
		</h:panelGrid>
    </p:panel>
</h:form>

<h:form id="form1">
    <p:dataTable id="contactTable" var="con" value="#{dtBasicView.contacts}" widgetVar="contactTable"
                 emptyMessage="Pas de contact" filteredValue="#{dtFilterView.filteredContacts}">
        <f:facet name="header">
            <p:outputPanel>
                <h:outputText value="Rechercher danr tout les champs:" />
                <p:inputText id="globalFilter" onkeyup="PF('contactTable').filter()" style="width:150px" placeholder="Enter keyword"/>
            </p:outputPanel>
        </f:facet>
        <p:column filterBy="#{con.id}" headerText="Id" filterMatchMode="contains">
            <h:outputText value="#{con.id}" />
        </p:column>
		<p:column filterBy="#{con.nom}" headerText="Nom" filterMatchMode="contains">
            <h:outputText value="#{con.nom}" />
        </p:column>
		<p:column filterBy="#{con.tel}" headerText="Telephone" filterMatchMode="contains">
            <h:outputText value="#{con.tel}" />
        </p:column>
 		<p:column headerText="Action">
			<!-- <p:commandButton action="#{contact.modifierContact(con.id)}" value="Modifier" ajax="true" update="contactTable" />
			<p:commandButton action="#{contact.supprimerContact(con.id)}" value="Supprimer" ajax="true" update="contactTable" /> -->
		</p:column>
    </p:dataTable>
</h:form>

</h:body>

</html>
